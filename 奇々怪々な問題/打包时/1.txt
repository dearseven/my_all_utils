用Android Studio打包签名apk时,偶尔会遇到了一个问题，总结一下。
(Errors while building APK. You can find the errors in the 'Messages' view.)

1：Messages报错：

Error:Execution failed for task ':app:lintVitalRelease'.
> Lint found fatal errors while assembling a release target.
To proceed, either fix the issues identified by lint, or modify your build script as follows:
...
android {
    lintOptions {
        checkReleaseBuilds false
        // Or, if you prefer, you can continue to check for errors in release builds,
        // but continue the build even when errors are found:
        abortOnError false
    }
}
...
方法：

在app的build.gradle里的android{}中添加如下代码,然后再次运行Generate Signed Apk。

android{
    lintOptions {
        checkReleaseBuilds false
        abortOnError false
    }
}
2：Messages报错：

Error:Execution failed for task ':app:transformClassesWithJarMergingForDebug'.

com.android.build.transform.api.TransformException: java.util.zip.ZipException: duplicate entry: android/support/v7/cardview/BuildConfig.class
解决方法：

那就是说明你在工程中libs文件夹或是build.gradle中引用了重复的依赖包或是依赖工程，自己Ctrl+N，输入BackStackState查找一下是哪个包重复，那么久删除相应的依赖即可。

3：Messages报错：

dexDebug ExecException finished with non-zero exit value 2

解决方法：

需要在gradle中配置下面的代码，原因是引用了多个libraries文件

defaultConfig {
        multiDexEnabled true
}


3
Error:Execution failed for task ':app:compileDebugJavaWithJavac'. >
 Compilation failed; see the compiler error output for details.
碰到这个异常我也是挺无语的，因为Android Studio根本不会提示你详细的错误信息。
解决办法：
在命令行中进入项目的根目录，或者可以在Android studio的Terminal中直接操作也可以，然后敲入一个命令：
（我选的后者）
 gradlew compileDebug --stacktrace  
就可以输出较详细的信息，然后根据命令行给出的提示，还可以在后面加上-info或者-debug的选项得到更详细的信息，
于是这个命令可以这样写：
gradlew compileDebug --stacktrace -info 或者：gradlew compileDebug --stacktrace -debug  
不过经我实际发现最好的命令是
gradlew compileDebugSources --stacktrace -info  

再build的时候就会显示出错误
  
  
  
4 在打release包的时候出现错误
org.gradle.api.resources.ResourceException: Could not get resource xxxxxxx
我的解决方案是在项目的build.gradle中加入仓库名
		//新加
        mavenCentral()
        jcenter()
        //新加
        mavenLocal()
        google()
		如下

buildscript {
    ext.kotlin_version = '1.3.21'
    repositories {
        google()
        jcenter()

        //新加
        mavenCentral()
        jcenter()
        //新加
        mavenLocal()
        google()
        
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.4.0'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        google()
        jcenter()

        //新加
        mavenCentral()
        jcenter()
        //新加
        mavenLocal()
        google()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}





